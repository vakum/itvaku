.MODEL SMALL
.DATA
EVENMSG DB "FF $"
ODDMSG DB "00 $"

B_A EQU 0E880H
PA EQU 0E880H
PB EQU 0E881H
PC EQU 0E882H
CWR EQU 0E883H

.CODE
MOV AX,@DATA
MOV DS,AX
MOV AL,8AH
MOV DX,CWR
OUT DX,AL
MOV DX,PB
IN AL,DX
OR AL,AL
PUSH AX
JPE EVEN1

ODD:LEA DX,ODDMSG
MOV AH,09H
INT 21H
JMP COUNTONES

EVEN1:LEA DX,EVENMSG
MOV AH,09H
INT 21H

COUNTONES:POP AX
MOV CX,08H
MOV DL,00

ROTATE:ROR AL,01
JNC ZERO
INC DL

ZERO:LOOP ROTATE
ADD DL,30H
MOV AH,02
INT 21H
MOV AH,4CH
INT 21H
END


